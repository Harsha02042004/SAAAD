<div class="tab-pane fade" id="Search" role="tabpanel" aria-labelledby="Search-tab">
    <h2><center><b>Search the sialic acid</b></center></h2>
    <br>

    <!-- Search Box -->
    <div class="search-box">
        <input type="text" id="search-query" placeholder="Search for an item...">
        <button class="search-btn" onclick="searchItem()">Search</button>
    </div>
    <br>

    <!-- Result Container -->
    <div id="result-container" class="result-container"></div>

    <script>
        function searchItem() {
            const query = document.getElementById('search-query').value;
            if (!query) return;

            fetch('/search?query=' + encodeURIComponent(query))
                .then(res => res.json())
                .then(data => displayResults(data))
                .catch(err => {
                    console.error('Search error:', err);
                    document.getElementById('result-container').innerHTML = '<p>Error fetching results.</p>';
                });
        }

        function displayResults(data) {
            const resultsContainer = document.getElementById('result-container');
            resultsContainer.innerHTML = '';

            if (!data.results || data.results.length === 0) {
                resultsContainer.innerHTML = '<p>No results found.</p>';
                return;
            }

            data.results.forEach(result => {
                const resultDiv = document.createElement('div');
                resultDiv.classList.add('result');
                resultDiv.innerHTML = `
                                       <h3>${result['Sialic acid analogues'] || ''} 
                        ${result['Image'] ? `<img src="${result['Image']}" alt="${result['Sialic acid analogues']} image" class="compound-image">` : ''}
                    </h3>
                    <p><strong>SMILES:</strong> ${result['SMILES'] || ''}</p>
                    <p><strong>Formula:</strong> ${result['Formula'] || ''}</p>
                    <p><strong>Molecular Weight:</strong> ${result['Molecular weight/g/mol'] || ''}</p>
                    <p><strong>Num. H-bond Acceptors:</strong> ${result['Num. H-bond acceptors'] || ''}</p>
                    <p><strong>Num. H-bond Donors:</strong> ${result['Num. H-bond donors'] || ''}</p>
                    <p><strong>Log Po/w (iLOGP):</strong> ${result['Log Po/w (iLOGP)'] || ''}</p>
                    <p><strong>Log Po/w (XLOGP3):</strong> ${result['Log Po/w (XLOGP3)'] || ''}</p>
                    <p><strong>Log Po/w (WLOGP):</strong> ${result['Log Po/w (WLOGP)'] || ''}</p>
                    <p><strong>Log Po/w (MLOGP):</strong> ${result['Log Po/w (MLOGP)'] || ''}</p>
                    <p><strong>Log Po/w (SILICOS-IT):</strong> ${result['Log Po/w (SILICOS-IT)'] || ''}</p>
                    <p><strong>Consensus Log Po/w:</strong> ${result['Consensus Log Po/w'] || ''}</p>
                    <a href="/download/${result['Sialic acid analogues']}.mol" download class="download-btn">Download .mol file</a>
                `;
                resultsContainer.appendChild(resultDiv);
            });
        }
    </script>
</div>
